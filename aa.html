<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>无标题文档</title>
    <style>
        body{margin:0;}
        #wrapaa{width:100%; height:1000px;border:1px solid #000; position:relative;}
        .home_banner_bg{ position:absolute;z-index:0;}

    </style>
</head>
<body id="wrapaa">

    <img src="images/bg_banner.jpg" class="home_banner_bg"/>


<script>
    var oWrap=document.getElementById("wrapaa");
    var bImg=document.getElementsByClassName("home_banner_bg");
    var iMax=4;
    //获取图片的初始位置
    for(var y=0;y<bImg.length;y++){
        bImg[y].startX=parseInt(getStyle(bImg[y],'left'))
    }
    wrapaa.onmousemove=function(ev){  
        ev=ev||window.event;
        //获取鼠标的位置与大盒子中心点位置的距离
        var iX=ev.clientX-(oWrap.offsetLeft+this.offsetWidth/2);
        for(var y=0;y<bImg.length;y++){
            //获取每个img的z-index
            var iZindex=getStyle(bImg[y],'zIndex');
            //Zindex越大移动的相对距离越小
            var iDisL=-parseInt(iX/iMax*(iMax-iZindex)/5);
            //图片的距离等于原先的距离加上计算的距离
            bImg[y].style.left=bImg[y].startX+iDisL+'px'
        }
    }
    function getStyle(obj,attr)
    {
        if( obj.currentStyle){
            return obj.currentStyle[attr];
        }
        return getComputedStyle(obj)[attr];
    }
</script>
</body>
</html>